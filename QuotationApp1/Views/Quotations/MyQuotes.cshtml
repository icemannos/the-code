@model IEnumerable<QuotationApp1.Quotation>

@{
    ViewBag.Title = "Quotations";
}

<h2>Quotations</h2>

<p>
    @Html.ActionLink("Add a New Quote", "Create", null, new { @class = "btn btn-primary btn-success" })

    @Html.ActionLink("Show All Quotes", "Index", null, new { @class = "btn btn-primary" })

</p>

@using (Html.BeginForm())
{
    <p>
        <input class="btn btn-info btn-sm" type="submit" value="Search" />
        @Html.TextBox("SearchString", null, new { style = "width: 200px; height: 30px; padding-left: 5px", htmlAttributes = new { @class = "form-control"} })

        @if (ViewBag.ShowButton)
        {
            @Html.ActionLink("Clear", "MyQuotes", null, new { @class = "btn btn-primary btn-sm" })
        }
        @if (ViewBag.Hide)
        {
            @Html.ActionLink("Unhide", "Unhide", new { mine = true }, new { @class = "btn btn-primary btn-sm" })
        }
    </p>
}

@{
    var grid = new WebGrid(Model, canPage: true, rowsPerPage: 20, ajaxUpdateContainerId: "gridContent"); grid.Pager(WebGridPagerModes.NextPrevious);}

<div id="gridContent">
    @grid.GetHtml(
            tableStyle: "webGrid",
            headerStyle: "webGrid-header",
            columns: grid.Columns(
            grid.Column("Category.Name", "Category", canSort: true),
            grid.Column("Quote", "Quote", canSort: false),
            grid.Column("Author", "Author", canSort: true),
            grid.Column("Date", "Date", format: (item) => string.Format("{0:MM/dd/yyyy}", item.Date), canSort: true),
            grid.Column(null, null, format: (item) => Html.ActionLink("Edit", "Edit", new { id = item.QuotationID })),
            grid.Column(null, null, format: (item) => Html.ActionLink("Details", "Details", new { id = item.QuotationID })),
            grid.Column(null, null, format: (item) => Html.ActionLink("Delete", "Delete", new { id = item.QuotationID })),
            grid.Column(null, null, format: (item) => Html.ActionLink("Hide", "Hide", new { id = item.QuotationID, mine = true }))
     ))
</div>

